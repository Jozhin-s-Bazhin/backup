handle() {
  if [[ "$1" == "activewindow>>" ]]; then
    hyprctl hyprpaper wallpaper ",~/.config/home-manager/package_config/wallpaper_blurred.jpg"
  elif [[ "activewindow.{2}" =~ $1 ]]; then
    hyprctl hyprpaper wallpaper ",~/.config/home-manager/package_config/wallpaper.jpg"
  fi
}


socat -U - UNIX-CONNECT:/tmp/hypr/$HYPRLAND_INSTANCE_SIGNATURE/.socket2.sock | while read -r line; do handle "$line"; done
